<script src="/js/validacionArticulos.js"></script>
<!-- Cuerpo del archivo -->
<body>
	<script src="/src/public/js/script"></script>
	<!-- Se crea una division para el formulario -->
	<div class="container w-50 px-5 pb-5 my-5">
		<div class="row">
			<div class="col">

				<h1 class="fw-bold text-center pt-5 mb-5"> Editar productos </h1> 
				<!-- Ser crea un siclo que busca en todos los archivos json y escribe los datos -->
				<!-- Se crea un formulario con la funcion de editar -->
				{{#each per}}
				<form class="form" action="/editarMen/{{id_art}}" method="post" enctype="multipart/form-data" onsubmit="return validar ();">


					<div class="mb-4">
						<label for="nombre" class="form-label"> Nombre </label>
						<input value="{{nombre}}" type="text" name="nombre" class="form-control text-bg-light"
						id="nombre"	pattern="[A-Z a-z áéíóúÁÉÍÓÚñÑ]*" minlength="4" maxlength="40" required>
					</div>

					<div class="mb-4">
						<label for="tipo" class="form-label"> Tipo </label>
						<select name="tipo" class="form-control text-bg-light">
							<option value="{{tipo}}">{{descripcion_tip}}</option>
							{{/each}}
							{{#each tip}}
							<option value="{{tipo}}">{{descripcion_tip}}</option>
							{{/each}}
						</select>
					</div>


					{{#each per}}
					<div class="mb-4">
						<label for="descrpcion" class="form-label"> Descripcion </label>
						<input id="descripcion" value="{{descripcion}}" type="text" name="descripcion" 
						class="form-control text-bg-light"  required>
					</div>

					<div class="mb-4">
						<label for="costo" class="form-label"> Costo </label>
						<input value="{{costo}}" type="money" name="costo" class="form-control text-bg-light"
							id="costo" minlength="1" maxlength="1000" pattern="[0-9]+" required>
					</div>

					<div class="mb-4">
						<label for="precio" class="form-label"> Precio </label>
						<input value="{{precio}}" type="money" name="precio" class="form-control text-bg-light"
						id="precio" minlength="1" maxlength="1000" pattern="[0-9]+" required>
					</div>

					<div class="mb-4">
						<label for="unidad" class="form-label"> Unidad </label>
						<select name="unidad" class="form-control text-bg-light">
							<option value="{{unidad}}">{{nombre_uni}}</option>
							{{/each}}
							{{#each uni}}
							<option value="{{unidad}}">{{nombre_uni}}</option>
							{{/each}}
						</select>
					</div>

					{{#each per}}
					<div class="mb-4">
						<label for="existencia" class="form-label"> Existencia </label>
						<input value="{{existencia}}" name="existencia" class="form-control text-bg-light"
						id="existencia"	minlength="1" maxlength="1000" pattern="[0-9]+" required>
					</div>

					{{/each}}

					<label class="form-label">Imagen</label>
					<input type="file" name="image" accept=".jpg, .jpeg, .png"  class="form-control text-bg-light" >

					<!-- Si se encuentra un error muestra el error -->
					{{#if error}}
					<p class="submitError">{{error}}</p>
					{{/if}}

					<div class="d-grid">
						<button type="submit" class="btn submitButton"> Guardar cambios </button>
					</div>


				</form>
			</div>
		</div>
	</div>
</body>
	